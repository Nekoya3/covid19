(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{278:function(t,e,r){var content=r(311);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("0ddbce0c",content,!1,{sourceMap:!1})},279:function(t,e,r){var content=r(313);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("f0fcac38",content,!1,{sourceMap:!1})},285:function(t,e,r){var content=r(329);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("6eae4ef1",content,!1,{sourceMap:!1})},286:function(t,e,r){var content=r(331);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("2ab08070",content,!1,{sourceMap:!1})},310:function(t,e,r){"use strict";var n=r(278);r.n(n).a},311:function(t,e,r){(e=r(11)(!1)).push([t.i,".header{display:flex;align-items:flex-end;flex-wrap:wrap}.pageTitle{display:flex;align-items:center;font-size:1.875rem;line-height:1;font-weight:400;margin:0 .5em 0 0}@media screen and (max-width:600px){.pageTitle{font-size:1.25rem}}.date{font-size:.875rem;color:grey}",""]),t.exports=e},312:function(t,e,r){"use strict";var n=r(279);r.n(n).a},313:function(t,e,r){(e=r(11)(!1)).push([t.i,".whatsNewOuter{display:block;align-items:center;flex-wrap:wrap;background:#fff;border:1px solid #d9d9d9;box-shadow:0 0 2px rgba(0,0,0,.15);border-radius:4px;padding:.7em 1em;font-size:14px;font-size:.875rem;text-decoration:none}.whatsNewOuter-Icon{color:#4d4d4d!important}.link{font-size:14px;font-size:.875rem;color:#006ca8!important;text-decoration:none}.link:hover{text-decoration:underline}",""]),t.exports=e},328:function(t,e,r){"use strict";var n=r(285);r.n(n).a},329:function(t,e,r){(e=r(11)(!1)).push([t.i,".TimeBarChart-Footer[data-v-3e98a8b8]{background-color:#fff!important;text-align:left;margin:0;flex-direction:row-reverse;font-size:12px;font-size:.75rem;color:grey!important;text-decoration:none}.supplementTexts[data-v-3e98a8b8]{display:flex;list-style-type:none}.supplementText[data-v-3e98a8b8]{width:3em}.supplementText2[data-v-3e98a8b8]{width:100%}.loading[data-v-3e98a8b8]{visibility:hidden}",""]),t.exports=e},330:function(t,e,r){"use strict";var n=r(286);r.n(n).a},331:function(t,e,r){(e=r(11)(!1)).push([t.i,".MainPage .DataBlock[data-v-5d5e964e]{margin:20px -12px}.MainPage .DataBlock .DataCard[data-v-5d5e964e]{margin-bottom:20px}",""]),t.exports=e},334:function(t,e,r){"use strict";r.r(e);r(20);var n=r(3),l={props:{title:{type:String,required:!0,default:""},icon:{type:String,required:!0,default:""},date:{type:String,required:!0,default:""}}},o=(r(310),r(4)),c=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header mb-3"},[r("h2",{staticClass:"pageTitle"},[r("v-icon",{staticClass:"mr-2",attrs:{size:"40"}},[t._v("\n      "+t._s(t.icon)+"\n    ")]),t._v("\n    "+t._s(t.title)+"\n  ")],1),t._v(" "),r("div",{staticClass:"date"},[r("i18n",{attrs:{path:"最終更新 {updatedDate}",tag:"span"},scopedSlots:t._u([{key:"updatedDate",fn:function(){return[r("time",[t._v(t._s(t.date))])]},proxy:!0}])})],1)])}),[],!1,null,null,null).exports,d={props:{text:{type:String,required:!0},url:{type:String,required:!0}}},f=(r(312),Object(o.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"whatsNewOuter",attrs:{href:this.url,target:"_blank",rel:"noopener"}},[e("span",{staticClass:"link"},[this._v(this._s(this.text))])])}),[],!1,null,null,null).exports),m=r(268),h=r(294),v=r(297),x=r(292),y=r(298),_=r(299),w=r(293),D=r(295),N=(r(18),r(9),r(38),r(115),{left:["麻生","北34条","北24条","北18条","北12条","さっぽろ","大通","すすきの","中島公園","幌平橋","中の島","平岸","南平岸","澄川","自衛隊前","真駒内"],right:["真駒内","自衛隊前","澄川","南平岸","平岸","中の島","幌平橋","中島公園","すすきの","大通","さっぽろ","北12条","北18条","北24条","北34条","麻生"]}),k={left:["宮の沢","発寒南","琴似","二十四軒","西28丁目","円山公園","西18丁目","西11丁目","大通","バスセンター前","菊水","東札幌","白石","南郷7丁目","南郷13丁目","南郷18丁目","大谷地","ひばりが丘","新さっぽろ"],right:["新さっぽろ","ひばりが丘","大谷地","南郷18丁目","南郷13丁目","南郷7丁目","白石","東札幌","菊水","バスセンター前","大通","西11丁目","西18丁目","円山公園","西28丁目","二十四軒","琴似","発寒南","宮の沢"]},C={left:["栄町","新道東","元町","環状通東","東区役所前","北13条東","さっぽろ","大通","豊水すすきの","学園前","豊平公園","美園","月寒中央","福住"],right:["福住","月寒中央","美園","豊平公園","学園前","豊水すすきの","大通","さっぽろ","北13条東","東区役所前","環状通東","元町","新道東","栄町"]},S=(r(289),function(data){var t=[],e=[],r=[],n=[],l=[],o=[];return data.forEach((function(c){var d=isNaN(Number(c["7:00 - 7:29"]))?0:Number(c["7:00 - 7:29"]),f=isNaN(Number(c["7:30 - 7:59"]))?0:Number(c["7:30 - 7:59"]),m=isNaN(Number(c["8:00 - 8:29"]))?0:Number(c["8:00 - 8:29"]),h=isNaN(Number(c["8:30 - 8:59"]))?0:Number(c["8:30 - 8:59"]),v=isNaN(Number(c["9:00 - 9:29"]))?0:Number(c["9:00 - 9:29"]),x=isNaN(Number(c["9:30 - 9:59"]))?0:Number(c["9:30 - 9:59"]);t.push(d),e.push(f),r.push(m),n.push(h),l.push(v),o.push(x)})),[{name:"7:00 - 7:29",data:t},{name:"7:30 - 7:59",data:e},{name:"8:00 - 8:29",data:r},{name:"8:30 - 8:59",data:n},{name:"9:00 - 9:29",data:l},{name:"9:30 - 9:59",data:o}]}),O=r(65),E={components:{DataView:r(288).a,ScaleLoader:O.a},props:{title:{type:String,required:!1,default:""},chartData:{type:Array,required:!1,default:function(){return[]}},date:{type:String,required:!0,default:""},unit:{type:String,required:!1,default:""},sourceFrom:{type:String,required:!1,default:""},sourceLink:{type:String,required:!1,default:""},defaultDataKind:{type:String,required:!1,default:"transition"},supplement:{type:String,required:!1,default:""},showButton:{type:Boolean,required:!1,default:!0},loaded:{type:Boolean,required:!0,default:!1},titleId:{type:String,required:!1,default:""}},data:function(){return{lineselected:"",dateselected:"",directionselected:""}},computed:{lines:function(){var t=[];return this.chartData.forEach((function(e){t.push({label:e.labels.JPLineName,value:e.labels.ENLineName})})),t.filter((function(t,i,e){return e.indexOf(t)===i}))},dates:function(){var t=this,e=[];return this.chartData.forEach((function(r){r.labels.ENLineName===t.lineselected&&e.push({label:r.labels.JPDate,value:r.labels.OriginalDate})})),e.filter((function(t,i,e){return e.indexOf(t)===i}))},directions:function(){var t=this,e=[];return this.chartData.forEach((function(r){r.labels.ENLineName===t.lineselected&&r.labels.OriginalDate===t.dateselected&&e.push({label:r.labels.StationFrom+"→"+r.labels.StationTo,value:r.labels.OriginalDirection})})),e.filter((function(t,i,e){return e.indexOf(t)===i}))},heatmapData:function(){var t=this;if(this.lineselected&&this.dateselected&&this.directionselected){var data=[];return this.chartData.forEach((function(e){e.labels.ENLineName===t.lineselected&&e.labels.OriginalDate===t.dateselected&&e.labels.OriginalDirection===t.directionselected&&(data=e.datas)})),data}return[]},options:function(){var t=this;if(this.lineselected&&this.dateselected&&this.directionselected){var option={};return this.chartData.forEach((function(e){e.labels.ENLineName===t.lineselected&&e.labels.OriginalDate===t.dateselected&&e.labels.OriginalDirection===t.directionselected&&(option={xaxis:{labels:{formatter:function(t){return t<4?e.labels.Stations[t-1]:e.labels.Stations[t]}},tooltip:{enabled:!0,formatter:function(t){return e.labels.Stations[t-1]+"→"+e.labels.Stations[t]}}},yaxis:{tooltip:{enabled:!1}},dataLabels:{enabled:!1},legend:{formatter:function(){return""}},plotOptions:{heatmap:{colorScale:{ranges:[{from:0,to:0,color:"#b2fcff",name:"空いている"},{from:1,to:1,color:"#0465d9",name:""},{from:2,to:2,color:"#0b00ff",name:"やや混んでいる"},{from:3,to:3,color:"#F6EB13",name:""},{from:4,to:4,color:"#ED2024",name:"混んでいる"}]}}}})})),option}return{}}},watch:{chartData:function(){this.chartData!==[]&&(this.lineselected=this.chartData[0].labels.ENLineName,this.dateselected=this.chartData[0].labels.OriginalDate,this.directionselected=this.chartData[0].labels.OriginalDirection)}}},$=(r(328),{name:"SubwayCard",components:{SubwayChart:Object(o.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("data-view",{attrs:{title:t.title,date:t.date,loaded:t.loaded,"source-from":t.sourceFrom,"source-link":t.sourceLink,"title-id":t.titleId}},[r("v-overlay",{attrs:{absolute:"",value:!t.loaded,"justify-center":"","align-center":""}},[r("scale-loader",{attrs:{color:"#1268d8"}})],1),t._v(" "),r("v-layout",{class:{loading:!t.loaded},attrs:{column:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{staticClass:"pa-2",attrs:{"item-value":"value","item-text":"label",items:t.lines,label:"路線名",outlined:"",dense:""},model:{value:t.lineselected,callback:function(e){t.lineselected=e},expression:"lineselected"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{staticClass:"pa-2",attrs:{"item-value":"value","item-text":"label",items:t.dates,label:"表示期間",outlined:"",dense:""},model:{value:t.dateselected,callback:function(e){t.dateselected=e},expression:"dateselected"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-select",{staticClass:"pa-2",attrs:{"item-value":"value","item-text":"label",items:t.directions,label:"方向",outlined:"",dense:""},model:{value:t.directionselected,callback:function(e){t.directionselected=e},expression:"directionselected"}})],1)],1),t._v(" "),r("apexcharts",{attrs:{type:"heatmap",options:t.options,series:t.heatmapData}}),t._v(" "),""!==t.supplement?r("v-footer",{staticClass:"TimeBarChart-Footer"},[r("ul",{staticClass:"supplementTexts"},[r("li",{staticClass:"supplementText"},[t._v("\n          "+t._s(t.$t("補足:"))+"\n        ")]),t._v(" "),r("li",{staticClass:"supplementText2"},[t._v("\n          "+t._s(t.supplement)+"\n        ")])])]):t._e()],1)],1)}),[],!1,null,"3e98a8b8",null).exports},data:function(){return{chartData:[],subway:{loaded:!1,last_update:""},keys:[]}},created:function(){this.getHeatMapFromAPI()},methods:{getHeatMapFromAPI:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("https://raw.githubusercontent.com/Kanahiro/sapporo_subway_analyze/gh-pages/json/data.json").then((function(e){Object.keys(e).forEach((function(r){Object.keys(e[r]).forEach((function(n){Object.keys(e[r][n]).forEach((function(g){var data,l,o,c,d;t.chartData.push({labels:(data={linename:r,date:n,direction:g},l="",o=[],c="",d=data.date.match(/(\d+)\D+(\d+)\D+$/),d&&(c=d[1]+"月第"+d[2]+"週"),"namboku"===data.linename?(l="南北線",o="left"===data.direction?N.left:N.right):"tozai"===data.linename?(l="東西線",o="left"===data.direction?k.left:k.right):(l="東豊線",o="left"===data.direction?C.left:C.right),{JPLineName:l,ENLineName:data.linename,OriginalDate:data.date,JPDate:c,OriginalDirection:data.direction,StationFrom:o[0],StationTo:o[o.length-1],Stations:o}),datas:S(e[r][n][g])})}))}))})),t.subway.last_update=e.last_update,t.subway.loaded=!0,t.dates=t.dates.filter((function(t,i,e){return e.indexOf(t)===i}))})).catch((function(e){t.$emit("failed","帰国者・接触者電話相談センター相談件数データ ")}));case 2:case"end":return e.stop()}}),e)})))()}}}),j={components:{SubwayCard:Object(o.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-col",{staticClass:"DataCard",attrs:{cols:"12",md:"6"}},[e("subway-chart",{attrs:{"chart-data":this.chartData,title:this.$t("地下鉄乗車率"),"title-id":"subway",loaded:this.subway.loaded,date:this.subway.last_update,"source-from":this.$t("札幌市交通局"),"source-link":"http://www.city.sapporo.jp/st/konzatsu_jokyo2020.html"}})],1)}),[],!1,null,null,null).exports,InspectionsCard:D.a,CurrentPatientsCard:w.a,QuerentsCard:_.a,ContactsCard:y.a,PatientsCard:x.a,PatientsSummaryCard:v.a,DischargesCard:h.a,PageHeader:c,WhatsNew:f},data:function(){var data={last_update:"",headerItem:{icon:"mdi-chart-timeline-variant",title:this.$t("道内の最新感染動向"),date:""},failed:!1,failed_datas:"",convertToDateFromData:m.a};return data},created:function(){this.getLastUpdateFromAPI()},methods:{getLastUpdateFromAPI:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/last_update.json").then((function(e){t.headerItem={icon:"mdi-chart-timeline-variant",title:t.$t("道内の最新感染動向"),date:e}})).catch((function(e){t.failed=!0,t.failed_datas+="最終更新日データ "}));case 2:case"end":return e.stop()}}),e)})))()}},head:function(){return{title:this.$t("道内の最新感染動向")+" | "+this.$t("北海道")+" "+this.$t("新型コロナウイルス{mobileBreak}まとめサイト",{mobileBreak:""})}}},T=(r(330),Object(o.a)(j,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"MainPage"},[r("page-header",{attrs:{icon:t.headerItem.icon,title:t.headerItem.title,date:t.convertToDateFromData(t.headerItem.date)}}),t._v(" "),r("whats-new",{staticClass:"mb-4",attrs:{url:"http://www.pref.hokkaido.lg.jp/ss/tkk/singatakoronahaien.htm",text:t.$t("北海道発表の新型コロナウイルス感染症に関する情報はこちら")}}),t._v(" "),r("v-row",{staticClass:"DataBlock"},[r("subway-card"),t._v(" "),r("current-patients-card",{attrs:{id:"current-patients"}}),t._v(" "),r("discharges-card",{attrs:{id:"discharges"}}),t._v(" "),r("patients-summary-card",{attrs:{id:"patients-summary"}}),t._v(" "),r("patients-card",{attrs:{id:"patients"}}),t._v(" "),r("inspections-card",{attrs:{id:"inspections"}}),t._v(" "),r("contacts-card",{attrs:{id:"contacts"}}),t._v(" "),r("querents-card",{attrs:{id:"querents"}})],1),t._v(" "),r("v-dialog",{attrs:{flat:""},model:{value:t.failed,callback:function(e){t.failed=e},expression:"failed"}},[r("v-alert",{attrs:{type:"error"}},[t._v("\n      データの取得に失敗しました。"),r("br"),t._v("\n      後ほど再度お試しいただき、改善しない場合には「JUST 道\n      IT」までご連絡ください。"),r("br"),t._v("\n      取得に失敗したデータ： "+t._s(t.failed_datas)+"\n    ")])],1)],1)}),[],!1,null,"5d5e964e",null));e.default=T.exports}}]);